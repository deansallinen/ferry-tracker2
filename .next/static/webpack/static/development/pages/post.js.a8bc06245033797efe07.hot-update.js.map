{"version":3,"file":"static/webpack/static/development/pages/post.js.a8bc06245033797efe07.hot-update.js","sources":["webpack:///./pages/post.js"],"sourcesContent":["import Link from 'next/link';\nimport { withRouter } from 'next/router';\nimport { request } from 'graphql-request';\nimport React from 'react';\nimport Sailing from '../components/sailing';\nimport Page from '../layouts/main';\n\nconst URL = 'https://ferrytrackerserver.now.sh/graphql';\n// const URL = 'http://localhost:4000/graphql';\n\nconst Post = withRouter(props => (\n  <Page>\n    <h1>{props.route.routeName}</h1>\n      {props.route.sailings.map(sailing => {\n        return (\n            <Sailing {...sailing }key={sailing.id} />\n        );\n      })}\n  </Page>\n));\n\nPost.getInitialProps = async function(context) {\n  const routeName = context.query.id;\n  const gqlq = `{\n      route(routeName: \"${routeName}\"){\n          routeName\n          sailings {\n              id\n              vessel\n              scheduledDeparture\n              actualDeparture\n              eta\n              sailingStatus\n              lastUpdated\n          }\n      }\n  }`;\n  const res = await request(URL, gqlq);\n  console.log(`Route info fetched. Sailings: ${res.route.sailings.length}`);\n  return res;\n};\n\nexport default Post;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAPA;AACA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAgBA;AACA;AAjBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAoBA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}